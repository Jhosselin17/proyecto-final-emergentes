{% extends 'base_admin.html' %}
{% block title %}Editar Producto{% endblock %}
{% block content %}
<h2 class="mb-4">✏️ Editar Producto</h2>

<form action="{{ url_for('producto.actualizar', id=producto.id) }}" method="POST" class="row g-3">
  <div class="col-md-6">
    <label for="nombre" class="form-label">Nombre</label>
    <input type="text" class="form-control" id="nombre" name="nombre" value="{{ producto.nombre }}" required>
  </div>

  <div class="col-md-6">
    <label for="precio" class="form-label">Precio</label>
    <input type="number" step="0.01" class="form-control" id="precio" name="precio" value="{{ producto.precio }}" required>
  </div>

  <div class="col-md-12">
    <label for="descripcion" class="form-label">Descripción</label>
    <textarea class="form-control" id="descripcion" name="descripcion" rows="3">{{ producto.descripcion }}</textarea>
  </div>

  <div class="col-md-4">
    <label for="stock" class="form-label">Stock</label>
    <input type="number" class="form-control" id="stock" name="stock" value="{{ producto.stock }}" required>
  </div>

  <div class="col-md-4">
    <label for="categoria_id" class="form-label">Categoría</label>
    <select class="form-select" name="categoria_id" id="categoria_id" required>
      {% for c in categorias %}
      <option value="{{ c.id }}" {% if c.id == producto.categoria_id %}selected{% endif %}>{{ c.nombre }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-4">
    <label for="proveedor_id" class="form-label">Proveedor</label>
    <select class="form-select" name="proveedor_id" id="proveedor_id" required>
      {% for p in proveedores %}
      <option value="{{ p.id }}" {% if p.id == producto.proveedor_id %}selected{% endif %}>{{ p.nombre }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-6">
    <label for="imagen" class="form-label">Imagen</label>
    <input type="text" class="form-control" name="imagen" id="imagen" value="{{ producto.imagen }}">
  </div>

  <div class="col-12 mt-3">
    <button type="submit" class="btn btn-success"><i class="fas fa-save me-1"></i> Guardar cambios</button>
    <a href="{{ url_for('producto.index') }}" class="btn btn-secondary ms-2">Cancelar</a>
  </div>
</form>
{% endblock %}
