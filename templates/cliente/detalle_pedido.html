{% extends 'base_cliente.html' %}

{% block contenido %}
<div class="container mt-4">
  <h3>Detalle del Pedido #{{ pedido.id }}</h3>
  <p><strong>Fecha:</strong> {{ pedido.fecha.strftime('%d/%m/%Y %H:%M') }}</p>
  <p><strong>Estado:</strong> {{ pedido.estado }}</p>
  <hr>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio unitario</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      {% for item in detalles %}
      <tr>
        <td>{{ item.producto.nombre }}</td>
        <td>{{ item.cantidad }}</td>
        <td>Bs {{ item.precio_unit }}</td>
        <td>Bs {{ item.subtotal }}</td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot>
      <tr>
        <th colspan="3" class="text-end">Total</th>
        <th>Bs {{ pedido.total }}</th>
      </tr>
    </tfoot>
  </table>

  <a href="{{ url_for('cliente.inicio') }}" class="btn btn-secondary">Volver al inicio</a>
</div>
{% endblock %}
